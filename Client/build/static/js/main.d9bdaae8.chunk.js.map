{"version":3,"sources":["Components/NavBar.js","Components/Table.js","Components/AddStudent.js","Handlers/DataHandler.js","App.js","index.js"],"names":["Navbar","react_default","a","createElement","className","href","id","Component","Table","props","contents","getDisplayableHeaders","dataElement","noDisplay","keys","Object","filter","k","indexOf","push","handleDelete","dataHandler","deleteStudent","then","res","success","getAll","data","length","headers","map","header","key","generateHeader","properties","element","_id","property","Button_default","onClick","bsStyle","generateBody","AddStudent","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","FirstName","LastName","House","handleInputChange","bind","assertThisInitialized","handleSubmit","open","close","setState","showModal","event","_this2","preventDefault","addStudent","target","value","name","defineProperty","Modal_default","show","onHide","bsSize","backdrop","animation","Header","Title","Form_default","onSubmit","Body","FormGroup_default","Label_default","FormControl_default","onChange","type","Footer","DataHandler","_ref","asyncToGenerator","regenerator_default","mark","_callee","reqbody","response","body","wrap","_context","prev","next","JSON","stringify","fetch","method","Accept","Content-Type","sent","json","status","Error","message","abrupt","stop","_x","apply","arguments","_ref2","_callee2","student","_context2","_x2","ApiGetAll","_callee3","_context3","refresh","catch","err","console","log","App","refreshData","dh","NavBar","Components_AddStudent","Components_Table","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.d9bdaae8.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\n\r\nclass Navbar extends Component{\r\n\r\n    render(){\r\n        return (\r\n            <nav className=\"navbar navbar-expand-xl navbar-dark bg-dark\">\r\n                <a className=\"navbar-brand\" href=\"#\">Kristi_the_coder</a>\r\n               \r\n                <div className=\"collapse navbar-collapse\" id=\"navbarsExample06\">\r\n             \r\n             \r\n            </div>\r\n          </nav> \r\n        );\r\n    }\r\n}\r\nexport default Navbar;","import React from 'react';\r\nimport Button from 'react-bootstrap/lib/Button';\r\nconst Table = (props) => {\r\n    \r\n    let contents;\r\n    const getDisplayableHeaders=(dataElement, noDisplay)=>{\r\n        let keys = Object.keys(dataElement).filter(k=>noDisplay.indexOf(k)===-1);\r\n        keys.push(\"Delete\")\r\n        return keys;\r\n    }\r\n    const generateHeader=(props)=>{\r\n        let headers=getDisplayableHeaders(props.data[0], props.noDisplay)\r\n        return <tr>{\r\n            headers.map(header => { return <th key={header}>{header}</th> })\r\n        }</tr>;\r\n\r\n    }\r\n    const generateBody=(data)=>{\r\n        let properties=getDisplayableHeaders(props.data[0], props.noDisplay)\r\n        return data.map((element)=>{\r\n            return <tr key={element._id}>{properties.map(property=>{\r\n                if(property===\"Delete\")\r\n                    return <td key={element._id+property}><Button onClick={()=>handleDelete(element._id)} bsStyle=\"danger\" >Delete</Button></td>\r\n            return <td key={element._id+property}>{element[property]}</td>\r\n        }) }</tr>\r\n    })//element map \r\n        \r\n    }\r\n    const handleDelete=(id)=>{\r\n   \r\n        props.dataHandler.deleteStudent(id).then(res=>{\r\n            if(res.success)\r\n              props.dataHandler.getAll();\r\n            });\r\n    }\r\n\r\n    if (props.data.length === 0) {\r\n     \r\n        contents = <p>Data is loading...</p>\r\n        props.dataHandler.getAll();\r\n    }\r\n    else {\r\n        contents = <table className=\"table table-bordered col-lg-12\">\r\n            <thead>{generateHeader(props)}</thead>\r\n            <tbody>{generateBody(props.data)}</tbody>\r\n        </table>\r\n    }\r\n    return (\r\n        <div className=\"container col-lg-6 col-sm-10\">\r\n            {contents}\r\n        </div>);\r\n}\r\n\r\n\r\nexport default Table;","import React, { Component } from 'react';\r\nimport Button from 'react-bootstrap/lib/Button';\r\nimport Form from 'react-bootstrap/lib/Form';\r\nimport FormGroup from 'react-bootstrap/lib/FormGroup';\r\nimport Label from 'react-bootstrap/lib/Label';\r\nimport FormControl from 'react-bootstrap/lib/FormControl';\r\nimport Modal from 'react-bootstrap/lib/Modal';\r\n\r\nclass AddStudent extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state={\r\n      FirstName:\"\",\r\n      LastName:\"\",\r\n      House:\"Gryffindor\"\r\n    };\r\n    this.handleInputChange = this.handleInputChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.open = this.open.bind(this);\r\n    this.close = this.close.bind(this);\r\n  }\r\n  \r\n  open() {\r\n    this.setState({showModal: true});\r\n  }\r\n  \r\n  close() {\r\n    this.setState({showModal: false});\r\n  }\r\n  \r\n  handleSubmit(event) {\r\n    //console.log(\"in submit\")\r\n    event.preventDefault();\r\n    this.props.dataHandler.addStudent(this.state).then(res=>{\r\n      if(res.success){\r\n        this.close();\r\n        this.props.dataHandler.getAll();\r\n      }\r\n        \r\n    });\r\n  \r\n   \r\n    \r\n  }\r\n  handleInputChange(event) {\r\n    const target = event.target;\r\n    const value = target.value;\r\n    const name = target.name;\r\n\r\n    this.setState({\r\n      [name]: value\r\n    });\r\n  }\r\n  render(){\r\n   \r\n   return <div>\r\n        <Button bsStyle=\"primary\" onClick={this.open}>Add Student</Button>\r\n        <div>\r\n          <Modal className=\"modal-container\" \r\n            show={this.state.showModal} \r\n            onHide={this.close}\r\n            bsSize=\"lg\" backdrop={false}\r\n            animation={false}\r\n            >\r\n  \r\n            <Modal.Header>\r\n              <Modal.Title>Add Student</Modal.Title>\r\n            </Modal.Header>\r\n  \r\n            <Form onSubmit={this.handleSubmit}>\r\n        <Modal.Body>\r\n          <FormGroup>\r\n            <Label>First name:</Label>\r\n            <FormControl onChange={this.handleInputChange}  type=\"text\" name=\"FirstName\" />\r\n          </FormGroup>\r\n          <FormGroup>\r\n            <Label>Last name:</Label>\r\n            <FormControl onChange={this.handleInputChange} type=\"text\" name=\"LastName\" />\r\n          </FormGroup>\r\n          <FormGroup>\r\n            <Label>House:</Label>\r\n            <select onChange={this.handleInputChange} type=\"text\" name=\"House\" >\r\n                <option>Gryffindor</option>\r\n                <option>Slytherin</option>\r\n                <option>Ravenclaw</option>\r\n                <option>Hufflepuff</option>\r\n            </select>\r\n          </FormGroup>\r\n          \r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n            <Button onClick={this.close}>Close</Button>\r\n            <Button onClick={this.handleSubmit} bsStyle=\"primary\">Save changes</Button>\r\n          </Modal.Footer>\r\n          </Form>\r\n  \r\n                    \r\n          </Modal> \r\n          \r\n        </div>\r\n      </div>  \r\n \r\n  }\r\n}\r\nexport default AddStudent;","\r\nclass DataHandler {\r\n    constructor(props){\r\n        this.props=props;\r\n    }    \r\n\r\n    getAll() {\r\n    \r\n        this.ApiGetAll()\r\n          .then(res=>this.props.refresh(res))\r\n          .catch(err => console.log(err));\r\n      }\r\n    deleteStudent=async(id)=>{\r\n      const reqbody=JSON.stringify({\"id\":id})\r\n      //console.log(\"fetching json: \"+reqbody)\r\n      const response = await fetch('/api/v1/deleteStudent',{method: 'POST',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: reqbody\r\n    });\r\n    const body=await response.json();\r\n    if (response.status !== 200) throw Error(body.message);\r\n    return body;\r\n  \r\n    }\r\n    addStudent=async(student)=>{\r\n        const reqbody=JSON.stringify(student)\r\n        const response = await fetch('/api/v1/addStudent',{method: 'POST',\r\n        headers: {\r\n          'Accept': 'application/json',\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: reqbody\r\n      });\r\n      const body=await response.json();\r\n        if (response.status !== 200) throw Error(body.message);\r\n        return body;\r\n      }\r\n    ApiGetAll = async () => {\r\n     \r\n        const response = await fetch('/api/v1/getAll');\r\n        const body = await response.json();\r\n    \r\n        if (response.status !== 200) throw Error(body.message);\r\n      \r\n        return body;\r\n      };\r\n     \r\n}export default DataHandler;","import React, { Component } from 'react';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport './App.css';\r\nimport NavBar from './Components/NavBar.js';\r\nimport Table from './Components/Table.js';\r\nimport Button from \"./Components/AddStudent.js\" \r\nimport DataHandler from \"./Handlers/DataHandler.js\"\r\n\r\nclass App extends Component {\r\n  refreshData=res => {\r\n    this.setState({ data: res });\r\n    console.log(\"refreshing data...\")\r\n  } \r\n  dh=new DataHandler({ refresh: this.refreshData});\r\n   \r\n  state = {\r\n    data:[],\r\n    noDisplay:[\"_id\",\"__v\"],\r\n    dataHandler:this.dh\r\n  };\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"App col-lg-12\">\r\n        <NavBar/>\r\n        <Button dataHandler={this.state.dataHandler}/>\r\n        <Table {...this.state} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\n"],"sourceRoot":""}